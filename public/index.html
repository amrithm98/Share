<html ng-app="mymedia">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<style>
.feed {
    margin-left: 100px;
    margin-right: 100px;
    margin-top: 50px;
    min-height: 1000px;
}

.feed h3 {
    padding: 20px;
    border: 1px solid green;
}

.page {
    margin-left: 100px;
}

.new {
    padding: 20px;
    border: 1px solid blue;
    ;
    width: 100%;
}
</style>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-route.js"></script>
<script type="text/javascript">
var app = angular.module('mymedia', ['ngRoute']);
app.controller('ctrl', function($scope, $http) {
    function refresh() {
        $http.get('/d').then(function(response) {
            $scope.data = response.data;
        });
    }
    $scope.remove=function(data){
        $http.put('/new/remove',{det:data}).then(function(){
            refresh();
        });
    };
    refresh();
    $scope.submit = function() {
        $http.post('/new', {share: $scope.share}).then(function() {
            refresh();   
            $scope.share='';     
        });
    };

});
</script>

<head>
    <title>Amrith</title>
</head>

<body ng-controller="ctrl">
    <h1 class="page">Share</h1>
    <div class="container-fluid">
        <div class="row feed">
            <div class="col-md-4">
                <h4>Login:</h4>
                <br>
                <br>
                <input type="text" size="30" placeholder="username">
                <br>
                <br>
                <input type="password" size="30" placeholder="password ">
                <br><br>
                <a href="/signup">Sign Up !</a>
            </div>
            <div class="col-md-8">
                <div class="new">
                    <input ng-model="share" type="text" class="form-control" placeholder="What's up?"></input>
                    <button type="button" class="btn" ng-click="submit()">Submit</button>
                </div>
                <h3 ng-repeat="new in data">
          <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
          {{new.text}}
          <a href ng-click="remove(new._id)">Delete<span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>
      </h3>
            </div>
        </div>
    </div>
</body>

</html>